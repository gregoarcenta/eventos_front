<form [formGroup]="userForm" *ngIf="authUser && documents.length > 0">
  <div class="d-flex justify-content-between align-items-end mb-4">
    <h2 class="fw-bold m-0">
      Hola, {{authUser.name}} {{authUser.surname}}
    </h2>
    <button class="btn btn-primary btn-sm" *ngIf="userForm.get('name')!.disabled" (click)="enabledForm()">Editar información</button>
  </div>

  <div class="row">
    <!--name-->
    <div class="col-lg-6">
      <div class="mb-3">
        <label for="name">Nombre</label>
        <input
          type="text"
          placeholder="ingrese su nombre"
          formControlName="name"
          class="form-control"
          id="name"
        />
        <small
          *ngIf="formService.validInput(userForm, 'name')"
          class="form-text text-danger"
          >{{formService.getMsgErrorName(userForm)}}</small
        >
      </div>
    </div>
    <!--surname-->
    <div class="col-lg-6">
      <div class="mb-3">
        <label for="surname">Apellido</label>
        <input
          type="text"
          placeholder="ingrese su apellido"
          formControlName="surname"
          class="form-control"
          id="surname"
        />
        <small
          *ngIf="formService.validInput(userForm, 'surname')"
          class="form-text text-danger"
          >{{formService.getMsgErrorSurname(userForm)}}</small
        >
      </div>
    </div>
    <!--email-->
    <div class="col-lg-6">
      <div class="mb-3">
        <label for="email">Correo electrónico</label>
        <input
          type="email"
          placeholder="ingrese su correo"
          formControlName="email"
          class="form-control"
          id="email"
        />
        <small
          *ngIf="formService.validInput(userForm, 'email')"
          class="form-text text-danger"
          >{{formService.getMsgErrorEmail(userForm)}}</small
        >
      </div>
    </div>
    <!--username-->
    <div class="col-lg-6">
      <div class="mb-3">
        <label for="username">Usuario</label>
        <input
          type="text"
          placeholder="ingrese un nombre de usuario"
          formControlName="username"
          class="form-control"
          id="username"
        />
        <small
          *ngIf="formService.validInput(userForm, 'username')"
          class="form-text text-danger"
          >{{formService.getMsgErrorUsername(userForm)}}</small
        >
      </div>
    </div>
    <!--age-->
    <div class="col-lg-6">
      <div class="mb-3">
        <label for="age">Edad</label>
        <input
          type="text"
          placeholder="ingrese su edad"
          formControlName="age"
          class="form-control"
          id="age"
          (keypress)="validaNumeros($event)"
        />
        <small
          *ngIf="formService.validInput(userForm, 'age')"
          class="form-text text-danger"
          >{{formService.getMsgErrorAge(userForm)}}</small
        >
      </div>
    </div>
    <!--phone-->
    <div class="col-lg-6">
      <div class="mb-3">
        <label for="phone">Telefono</label>
        <input
          type="text"
          placeholder="ingrese un numero de telefono"
          formControlName="phone"
          class="form-control"
          id="phone"
          (keypress)="validaNumeros($event)"
        />
        <small
          *ngIf="formService.validInput(userForm, 'phone')"
          class="form-text text-danger"
          >{{formService.getMsgErrorPhone(userForm)}}</small
        >
      </div>
    </div>
    <!--type document-->
    <div class="col-lg-6">
      <label>Tipo de documento</label>
      <div class="d-flex my-2 justify-content-between align-items-center">
        <div class="form-check" *ngFor="let document of documents">
          <input
            class="form-check-input"
            type="radio"
            [id]="document.id"
            [value]="document.id"
            [checked]="document.id === 1?true:false"
            formControlName="document_id"
          />
          <label class="form-check-label pointer" [for]="document.id">
            {{document.name | uppercase}}
          </label>
        </div>
      </div>
    </div>
    <!--num document-->
    <div class="col-lg-6">
      <div class="mb-3">
        <label for="num_document">N° de documento</label>
        <input
          type="text"
          placeholder="ingrese su numero de documento"
          formControlName="num_document"
          class="form-control"
          id="num_document"
          (keypress)="validaNumeros($event)"
        />
        <small
          *ngIf="formService.validInput(userForm, 'num_document')"
          class="form-text text-danger"
          >{{formService.getMsgErrorNumDocument(userForm)}}</small
        >
      </div>
    </div>
     <!--business name-->
     <div class="col-lg-8" *ngIf="userForm.controls['document_id'].value == 2">
      <div class="mb-3">
        <label for="business_name">Razón social</label>
        <input
          type="text"
          placeholder="ingrese su razón social"
          formControlName="business_name"
          class="form-control"
          id="business_name"
        />
        <small
          *ngIf="formService.validInput(userForm, 'business_name')"
          class="form-text text-danger"
          >{{formService.getMsgErrorBusinessName(userForm)}}</small
        >
      </div>
    </div>
  </div>

  <!--boton submit-->
  <div class="text-center my-2" *ngIf="userForm.enabled">
    <button type="submit" class="btn btn-primary" (click)="updateData()">
      Actualizar datos
    </button>
  </div>
</form>
